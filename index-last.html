<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Launcher</title>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
<style>
body {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  font-family: "Open Sans", Helvetica, sans-serif;
  transition: filter 0.3s ease;
  background-image: url('https://raw.githubusercontent.com/ElMagoRenato/server/refs/heads/main/img/image%20(1).png');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  color: #fff;
  position: relative;
}

/* Logo flotante */
.logo {
  margin-bottom: 40px;
  max-width: 900px;
  width: 100%;
  height: auto;
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%,100%{transform:translateY(0px);}
  50%{transform:translateY(-15px);}
}

/* Botonera principal */
.botonera-principal {
  display: flex;
  gap: 25px;
  flex-wrap: wrap;
  justify-content: center;
  align-items: flex-end;
  margin-bottom: 20px;
}

/* Botones pixel art */
.pixel-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: transparent;
  border: none;
  cursor: pointer;
  text-transform: uppercase;
  transition: transform 0.3s ease;
}
.pixel-btn img {
  width: 100px;
  height: auto;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  margin-bottom: 6px;
  transition: transform 0.3s ease;
}
.pixel-btn span {
  color: #fff;
  font-weight: 700;
  font-size: 16px;
}
.pixel-btn:hover {
  transform: translateY(-3px);
}
a.pixel-link {
  text-decoration: none;
  color: inherit;
}

/* Botón Constitución centrado abajo */
.boton-constitucion {
  display: flex;
  justify-content: center;
  width: 100%;
}

/* Botón Slimefun en esquina superior derecha */
.slimefun-corner {
  position: absolute;
  top: 20px;
  right: 20px;
}

.slimefun-corner .pixel-btn img {
  width: 60px;
}

.slimefun-corner .pixel-btn span {
  font-size: 14px;
}

/* Sección de Noticias */
.noticias-section {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 350px;
}

.noticias-titulo {
  width: 250px;
  margin-bottom: 15px;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.carrusel {
  background: rgba(0, 0, 0, 0.7);
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
  position: relative;
  overflow: hidden;
}

.contenedor-imagenes {
  position: relative;
  width: 100%;
  height: 200px;
  overflow: hidden;
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.carrusel-imagen {
  position: absolute;
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 5px;
  transition: transform 0.6s ease-in-out;
}

.carrusel-imagen.activa {
  transform: translateX(0);
  z-index: 2;
}

.carrusel-imagen.siguiente {
  transform: translateX(100%);
  z-index: 1;
}

.carrusel-imagen.anterior {
  transform: translateX(-100%);
  z-index: 1;
}

.indicadores {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 12px;
}

.punto {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: background-color 0.3s, transform 0.3s;
}

.punto.activo {
  background-color: white;
  transform: scale(1.2);
}

/* Estado del servidor */
.estado-servidor {
  position: absolute;
  bottom: 20px;
  left: 20px;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
  width: 250px;
}

.estado-titulo {
  color: white;
  font-weight: bold;
  font-size: 16px;
  text-transform: uppercase;
  margin-bottom: 10px;
  text-align: center;
  letter-spacing: 1px;
}

.estado-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.estado-label {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.8);
}

.estado-valor {
  font-size: 14px;
  font-weight: bold;
}

.estado-online {
  color: #2ecc71;
}

.estado-offline {
  color: #e74c3c;
}

.estado-jugadores {
  color: #3498db;
}

.estado-ping {
  color: #f39c12;
}

.estado-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 5px;
}

.estado-dot.online {
  background-color: #2ecc71;
  animation: pulse 2s infinite;
}

.estado-dot.offline {
  background-color: #e74c3c;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

/* Crédito del autor */
.credito-autor {
  position: absolute;
  bottom: 15px;
  right: 20px;
  color: white;
  font-size: 14px;
  font-weight: 600;
  opacity: 0.8;
  transition: opacity 0.3s ease;
}

.credito-autor:hover {
  opacity: 1;
}

/* Modal general */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.4);
  justify-content: center;
  align-items: center;
}
.modal-content {
  position: relative;
  background: #222;
  padding: 40px 60px;
  border-radius: 15px;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
  text-align: center;
  transform: scale(0.8);
  opacity: 0;
  transition: all 0.4s ease;
}
.modal-content.show {
  transform: scale(1);
  opacity: 1;
}

/* Botón cerrar */
.cerrar {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  color: #fff;
  font-size: 28px;
  cursor: pointer;
  transition: background 0.3s, transform 0.2s;
  user-select: none;
  top: 10px;
  right: 15px;
}
.cerrar:hover {
  background: rgba(255,255,255,0.3);
  transform: scale(1.1);
}

/* Fondo desenfocado */
.blurred {
  filter: blur(5px);
}

/* Modal Navegadores */
.navegadores-content {
  width: 900px;
  max-width: 95%;
}
.navegadores {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 30px;
  margin-top: 20px;
}
.navegador-btn {
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: center;
  transition: transform 0.3s;
}
.navegador-btn img {
  width: 120px;
  height: auto;
  margin-bottom: 6px;
}
.navegador-btn span {
  display: block;
  color: #fff;
  font-weight: bold;
}
.navegador-btn:hover {
  transform: translateY(-3px);
}
.copiar-content {
  width: 700px;
  max-width: 95%;
}
.copiar-texto {
  margin-top: 15px;
  background: #333;
  padding: 10px;
  border-radius: 8px;
  color: #0f0;
  font-family: monospace;
  user-select: all;
}
.copiar-btn {
  margin-top: 15px;
  padding: 10px 20px;
  background: #2ecc71;
  border: none;
  border-radius: 8px;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s;
}
.copiar-btn:hover {
  background: #27ae60;
}

/* Modal Constitución */
.constitucion-content {
  width: 800px;
  max-width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  background: #1a1a1a;
  color: #fff;
  text-align: left;
  padding: 30px;
}

.constitucion-content h1 {
  text-align: center;
  color: #ffd700;
  margin-bottom: 20px;
  font-size: 24px;
}

.constitucion-content h2 {
  color: #ff6b6b;
  margin-top: 25px;
  margin-bottom: 15px;
  font-size: 18px;
  border-bottom: 2px solid #333;
  padding-bottom: 5px;
}

.constitucion-content .articulo {
  margin-bottom: 20px;
  padding-left: 10px;
  border-left: 3px solid #333;
}

.constitucion-content .articulo-numero {
  color: #4ecdc4;
  font-weight: bold;
}

.constitucion-content p {
  margin-bottom: 15px;
  line-height: 1.6;
  text-align: justify;
}

.constitucion-content strong {
  color: #ffd700;
}

.constitucion-content .firma {
  text-align: center;
  margin-top: 30px;
  font-style: italic;
  color: #aaa;
}
</style>
</head>
<body>

<img src="https://i.imgur.com/lSIME8x.png" alt="Logo" class="logo">

<!-- Sección de Noticias -->
<div class="noticias-section">
  <img src="https://i.imgur.com/MSDtOp7.png" alt="NOTICIAS" class="noticias-titulo">
  <div class="carrusel">
    <div class="contenedor-imagenes" id="contenedor-imagenes">
      <!-- Las imágenes se generarán con JavaScript -->
    </div>
    <div class="indicadores" id="indicadores">
      <!-- Los puntos se generarán con JavaScript -->
    </div>
  </div>
</div>

<!-- Estado del servidor -->
<div class="estado-servidor">
  <div class="estado-titulo">ESTADO DEL SERVIDOR</div>
  <div class="estado-info">
    <span class="estado-label">Estado:</span>
    <span class="estado-valor" id="estado-texto">
      <span class="estado-dot" id="estado-dot"></span>
      <span id="estado">Comprobando...</span>
    </span>
  </div>
  <div class="estado-info">
    <span class="estado-label">Jugadores:</span>
    <span class="estado-valor estado-jugadores" id="jugadores">-/-</span>
  </div>
  <div class="estado-info">
    <span class="estado-label">Ping:</span>
    <span class="estado-valor estado-ping" id="ping">- ms</span>
  </div>
</div>

<!-- Botón Slimefun en esquina superior derecha -->
<div class="slimefun-corner">
  <a href="https://github.com/Slimefun/Slimefun4/wiki" class="pixel-link" target="_blank">
    <button class="pixel-btn">
      <img src="https://i.imgur.com/alOE0wB.png" alt="Slimefun Wiki">
      <span>Slimefun Wiki</span>
    </button>
  </a>
</div>

<!-- Botonera principal -->
<div class="botonera-principal" id="contenido">
  <!-- Mapa -->
  <a href="http://rf.inf1.linkpc.net:8517/" class="pixel-link" target="_blank">
    <button class="pixel-btn">
      <img src="https://static.wikia.nocookie.net/minecraftpocketedition/images/7/73/Map.gif/" alt="Mapa">
      <span>Mapa</span>
    </button>
  </a>

  <!-- Jugar -->
  <a href="https://elmagorenato.github.io/server/privado/index" class="pixel-link">
    <button class="pixel-btn">
      <img src="https://static.wikia.nocookie.net/minecraft_gamepedia/images/a/a2/TNT_JE3_BE2.png/" alt="Jugar">
      <span>JUGAR</span>
    </button>
  </a>

  <!-- JSPI -->
  <button class="pixel-btn" id="jspiBtn">
    <img src="https://static.wikia.nocookie.net/minecraft_gamepedia/images/f/f1/Minecart_with_Furnace_%28item%29_JE2.png/" alt="JSPI">
    <span>JSPI</span>
  </button>
</div>

<!-- Botón Constitución centrado abajo -->
<div class="boton-constitucion">
  <button class="pixel-btn" id="constitucionBtn">
    <img src="https://i.imgur.com/ywT7omj.png" alt="Constitución">
    <span>CONSTITUCIÓN</span>
  </button>
</div>

<!-- Crédito del autor -->
<div class="credito-autor">@ELMR</div>

<!-- Modal Constitución -->
<div id="modalConstitucion" class="modal">
  <div class="modal-content constitucion-content">
    <span class="cerrar">&times;</span>
    <h1>CONSTITUCIÓN DEL SERVIDOR</h1>
    
    <p><strong>En el nombre de Dios Todopoderoso, Padre, Hijo y Espíritu Santo, autor y supremo legislador de la sociedad.</strong></p>
    
    <p>Nosotros, los habitantes de las tierras de IL, deseando establecer la justicia, asegurar la tranquilidad doméstica, proveer para la defensa común, promover el bienestar general, y asegurar los beneficios de la libertad para nosotros y nuestra posteridad, decretamos y sancionamos la siguiente Constitución.</p>

    <h2>TÍTULO I: DE LOS HABITANTES DEL REINO Y SUS DERECHOS</h2>

    <div class="articulo">
      <span class="articulo-numero">Artículo 1.</span> Todos los habitantes del mundo son libres e iguales ante la ley. La agresión a un ciudadano sin causa justa y probada está prohibida y será castigada.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 2.</span> Se garantiza la libertad de expresión y el derecho al anonimato. Todo tipo de insulto está permitido, sin que ello exima de las consecuencias que dicho lenguaje pueda acarrear en el devenir de las relaciones sociales. Asimismo, todo ciudadano tiene el derecho a usar el comando /hide para ocultar su nombre, pudiendo moverse con libertad y discreción por el mundo.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 3.</span> La identidad del ciudadano es inviolable. Conectarse a la cuenta de otro jugador se considera suplantación de identidad y es causa de destierro permanente del Reino.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 4.</span> Es obligación de todo ciudadano reportar los errores o "bugs" del mundo. La Administración, en función de la gravedad del fallo reportado, recompensará debidamente al ciudadano leal.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 5.</span> El Metagaming, o el uso de conocimiento obtenido fuera de los límites del juego, se declara ilegal. La información solo puede obtenerse mediante la exploración y la interacción directa dentro del mundo.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 6.</span> No existe obligación de caridad. Un ciudadano no está compelido a revivir a otro si este se lo solicita.
    </div>

    <h2>TÍTULO II: DE LA PROPIEDAD PRIVADA Y SU INVIOLABILIDAD</h2>

    <div class="articulo">
      <span class="articulo-numero">Artículo 7.</span> La propiedad de un ciudadano se extiende sobre un "chunk" completo, desde el cielo hasta el abismo. Dentro de estos límites, su dominio es absoluto.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 8.</span> Es ilegal romper o alterar los bloques de una propiedad ajena. Cualquier violación de este precepto será castigada con severidad.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 9.</span> El acceso a una vivienda ajena solo podrá realizarse mediante el uso legítimo de ganzúas en las puertas. Toda vivienda debe contar con al menos una entrada, ya sea puerta o ascensor (secreto o no), para fomentar este arte.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 10.</span> Las cuevas y el subsuelo no reclamado son bienes comunales y no pertenecen a individuo alguno.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 11.</span> Los cultivos y animales de otro ciudadano solo podrán ser recolectados o esquilados si su propietario lo autoriza, y únicamente mediante click derecho. Su rotura se considera un delito contra la propiedad.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 12.</span> Es motivo de destierro/baneo permanente apropiarse de los bienes colocados por la Administración en el pueblo o sus inmediaciones.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 13.</span> Para preservar el equilibrio natural y la economía lícita, se prohíbe terminantemente la construcción y uso de toda clase de granjas automáticas o semiautomáticas de criaturas, hierro o experiencia. Cualquier artefacto de este tipo será desmantelado y su propietario sancionado.
    </div>

    <h2>TÍTULO III: DEL GOBIERNO Y LA ADMINISTRACIÓN</h2>

    <div class="articulo">
      <span class="articulo-numero">Artículo 14.</span> La soberanía reside esencialmente en la Administración, que la ejerce por medio de sus facultades legislativas, ejecutivas y judiciales.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 15.</span> La Administración tiene el derecho irrevocable de decidir qué objetos, incluidos aquellos del "Slimefun", son legales o ilegales dentro del servidor.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 16.</span> La Administración regulará el acceso a otras dimensiones, pudiendo permitirlo o denegarlo según considere oportuno para la seguridad del mundo.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 17.</span> Las misiones, dispuestas por la Administración, podrán ser de carácter opcional u obligatorio. En este último caso, su incumplimiento será sancionado.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 18.</span> La presente Constitución está sujeta a cambio y modificación por parte de la Administración. Los habitantes no podrán oponerse a dichas revisiones.
    </div>

    <h2>TÍTULO IV: DE LA ECONOMÍA Y EL COMERCIO</h2>

    <div class="articulo">
      <span class="articulo-numero">Artículo 19.</span> Solo existirán dos monedas de curso legal: el Oro y la Plata. Su cambio solo podrá realizarse en el Banco del mundo.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 20.</span> Para fomentar el comercio sano entre ciudadanos, el límite de Aldeanos para comerciar por persona será de cuatro. Quien exceda este número sufrirá la ejecución de todos sus aldeanos.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 21.</span> Todo ciudadano que posea Aldeanos deberá pagar un impuesto por cada uno de ellos, establecido por la Administración.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 22.</span> Matar o robar Aldeanos ajenos es un delito. Sin embargo, es legal comerciar con ellos si el propietario lo autoriza o si se ha accedido a la propiedad mediante el uso legítimo de ganzúas.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 23.</span> Los ciudadanos que colaboren en la construcción y embellecimiento del pueblo serán recompensados. La magnitud de la obra y la recompensa serán meditadas por la Administración.
    </div>

    <h2>TÍTULO V: DE LA SEGURIDAD Y EL ORDEN PÚBLICO</h2>

    <div class="articulo">
      <span class="articulo-numero">Artículo 24.</span> Solo habrá un Oficial de la Ley en el mundo. Este recibirá un sueldo semanal si desempeña sus funciones con diligencia.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 25.</span> El Oficial de la Ley no podrá acceder al inventario de un ciudadano si no se encuentra a menos de cinco bloques de distancia. El abuso de este poder será causa de destitución y/o sanción.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 26.</span> Si se considera que el Oficial de la Ley no ha cumplido con su deber o ha sido sobornado, será inmediatamente destituido y/o sancionado.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 27.</span> Se podrán presentar denuncias ante el Oficial de la Ley, siempre que se aporten pruebas contundentes del delito.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 28.</span> El uso de "minas" explosivas está prohibido dentro de los límites de cualquier propiedad. Si una mina colocada en terreno comunal daña una propiedad, su colocador será sancionado. Fuera de las propiedades, su uso es legal, pero el propietario de la mina es responsable de sus consecuencias.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 29.</span> Los "reforzadores" solo podrán usarse en las propiedades propias. Su uso en propiedad ajena será motivo de sanción.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 30.</span> No hay límite en el número de "cámaras de seguridad" que un ciudadano pueda colocar para la defensa de su propiedad.
    </div>

    <h2>TÍTULO VI: DISPOSICIONES GENERALES</h2>

    <div class="articulo">
      <span class="articulo-numero">Artículo 31.</span> Todo ciudadano está limitado a un máximo de dos mochilas y un llavero. La posesión excesiva de estos ítems será sancionada.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 32.</span> El máximo de /homes será de tres. No obstante, se contempla la posibilidad de extender este número a cambio de bienes y/o servicios para la Corona.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 33.</span> Será ilegal el uso de todo tipo de trampas en el servidor o de clientes ajenos al oficial. Cualquier ciudadano hallado en dichas condiciones será desterrado permanentemente.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 34.</span> Es obligatorio para todo ciudadano aceptar el paquete de recursos sugerido por el servidor, para uniformar la experiencia y disfrutar de los nuevos bloques e ítems.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 35.</span> Los nuevos integrantes que pretendan unirse al servidor serán aceptados o rechazados por la Administración, la cual podrá reflexionar sobre su decisión durante varios días.
    </div>

    <div class="articulo">
      <span class="articulo-numero">Artículo 36.</span> La aceptación de esta Constitución es requisito indispensable para ser ciudadano del mundo. Todo aquel que entre, automáticamente aceptará estas normas.
    </div>
	
	<div class="articulo">
      <span class="articulo-numero">Artículo 37.</span> Los jugadores son responsables de las distracciones que les pueda causar esta aventura en su educación.
    </div>

    <div class="firma">
      <p><strong>Dada en la Corte del Reino de Inf1MC, a los 27 días del mes de Octubre del año del Señor 2025.</strong></p>
      <p><strong>La Administración.</strong></p>
    </div>
  </div>
</div>

<!-- Modal Navegadores -->
<div id="modalNavegadores" class="modal">
  <div class="modal-content navegadores-content">
    <span class="cerrar">&times;</span>
    <h2>Elige tu navegador</h2>
    <div class="navegadores">
      <button class="navegador-btn" data-url="brave://flags/#enable-experimental-webassembly-jspi">
        <img src="https://img.icons8.com/color/512/brave-web-browser.png" alt="Brave">
        <span>Brave</span>
      </button>
      <button class="navegador-btn" data-url="edge://flags/#enable-experimental-webassembly-features">
        <img src="https://upload.wikimedia.org/wikipedia/commons/9/98/Microsoft_Edge_logo_%282019%29.svg" alt="Edge">
        <span>Edge</span>
      </button>
      <button class="navegador-btn" data-url="opera://flags/#enable-experimental-webassembly-jspi">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/49/Opera_2015_icon.svg" alt="Opera">
        <span>Opera</span>
      </button>
      <button class="navegador-btn" data-url="chrome://flags/#enable-experimental-webassembly-jspi">
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/Google_Chrome_icon_%28February_2022%29.svg" alt="Chrome">
        <span>Chrome</span>
      </button>
    </div>
  </div>
</div>

<!-- Modal Copiar JSPI -->
<div id="modalCopiar" class="modal">
  <div class="modal-content copiar-content">
    <span class="cerrar">&times;</span>
    <h2>Copiar Flag</h2>
    <div id="flagTexto" class="copiar-texto"></div>
    <button class="copiar-btn" id="copiarBtn">Copiar al portapapeles</button>
  </div>
</div>

<script>
const contenido = document.getElementById("contenido");

/* ----- Carrusel de Noticias ----- */
const imagenesNoticias = [
  "https://i.imgur.com/dZJQK4j.png",
  "https://i.imgur.com/U1Lbb0i.png", 
  "https://i.imgur.com/SjhmVqx.png",
  "https://i.imgur.com/pFrpdO8.png",
  "https://i.imgur.com/go8qe55.jpeg",
  "https://i.imgur.com/WCsuXV5.jpeg",
  "https://i.imgur.com/IEWj3VU.jpeg",
  "https://i.imgur.com/5XZBysX.jpeg"
];

let imagenActual = 0;
let estaTransicionando = false;
const contenedorImagenes = document.getElementById('contenedor-imagenes');
const indicadoresContainer = document.getElementById('indicadores');

// Crear todas las imágenes del carrusel
imagenesNoticias.forEach((src, index) => {
  const img = document.createElement('img');
  img.src = src;
  img.classList.add('carrusel-imagen');
  img.alt = `Noticia ${index + 1}`;
  
  if (index === 0) {
    img.classList.add('activa');
  } else {
    img.classList.add('siguiente');
  }
  
  contenedorImagenes.appendChild(img);
});

// Inicializar indicadores (solo 3 puntos)
imagenesNoticias.forEach((_, index) => {
  const punto = document.createElement('div');
  punto.classList.add('punto');
  if (index === 0) punto.classList.add('activo');
  
  punto.addEventListener('click', () => {
    if (!estaTransicionando && index !== imagenActual) {
      cambiarImagen(index);
    }
  });
  
  indicadoresContainer.appendChild(punto);
});

// Función para cambiar imagen con swipe simultáneo
function cambiarImagen(nuevoIndice) {
  if (estaTransicionando) return;
  
  estaTransicionando = true;
  const imagenes = document.querySelectorAll('.carrusel-imagen');
  const imagenAnterior = imagenes[imagenActual];
  const imagenNueva = imagenes[nuevoIndice];
  
  // Determinar dirección
  const esSiguiente = nuevoIndice > imagenActual || (nuevoIndice === 0 && imagenActual === imagenes.length - 1);
  
  // Posicionar la nueva imagen según la dirección
  if (esSiguiente) {
    imagenNueva.classList.remove('anterior', 'siguiente');
    imagenNueva.classList.add('siguiente');
  } else {
    imagenNueva.classList.remove('anterior', 'siguiente');
    imagenNueva.classList.add('anterior');
  }
  
  // Animar ambas imágenes simultáneamente
  setTimeout(() => {
    if (esSiguiente) {
      imagenAnterior.classList.remove('activa');
      imagenAnterior.classList.add('anterior');
      imagenNueva.classList.remove('siguiente');
      imagenNueva.classList.add('activa');
    } else {
      imagenAnterior.classList.remove('activa');
      imagenAnterior.classList.add('siguiente');
      imagenNueva.classList.remove('anterior');
      imagenNueva.classList.add('activa');
    }
  }, 10);
  
  // Actualizar indicadores inmediatamente
  document.querySelectorAll('.punto').forEach((punto, i) => {
    if (i === nuevoIndice) {
      punto.classList.add('activo');
    } else {
      punto.classList.remove('activo');
    }
  });
  
  // Finalizar transición
  setTimeout(() => {
    imagenActual = nuevoIndice;
    estaTransicionando = false;
  }, 600);
}

// Cambio automático cada 5 segundos
setInterval(() => {
  if (!estaTransicionando) {
    const siguienteImagen = (imagenActual + 1) % imagenesNoticias.length;
    cambiarImagen(siguienteImagen);
  }
}, 5000);

/* ----- Estado del Servidor ----- */
async function comprobarEstadoServidor() {
  const servidorIP = 'rf.inf1.linkpc.net';
  const servidorPuerto = 25565;
  
  const estadoElemento = document.getElementById('estado');
  const estadoDot = document.getElementById('estado-dot');
  const jugadoresElemento = document.getElementById('jugadores');
  const pingElemento = document.getElementById('ping');
  
  try {
    const response = await fetch(`https://api.mcstatus.io/v2/status/java/${servidorIP}:${servidorPuerto}`);
    const data = await response.json();
    
    if (data.online) {
      estadoElemento.textContent = 'Online';
      estadoElemento.className = 'estado-valor estado-online';
      estadoDot.className = 'estado-dot online';
      jugadoresElemento.textContent = `${data.players.online}/${data.players.max}`;
      pingElemento.textContent = `${Math.round(data.round_trip_latency)} ms`;
    } else {
      estadoElemento.textContent = 'Offline';
      estadoElemento.className = 'estado-valor estado-offline';
      estadoDot.className = 'estado-dot offline';
      jugadoresElemento.textContent = '-/-';
      pingElemento.textContent = '- ms';
    }
  } catch (error) {
    console.error('Error al comprobar estado del servidor:', error);
    estadoElemento.textContent = 'Error';
    estadoElemento.className = 'estado-valor estado-offline';
    estadoDot.className = 'estado-dot offline';
    jugadoresElemento.textContent = '-/-';
    pingElemento.textContent = '- ms';
  }
}

// Comprobar estado cada 10 segundos
comprobarEstadoServidor();
setInterval(comprobarEstadoServidor, 10000);

/* ----- Modal Constitución ----- */
const modalConstitucion = document.getElementById("modalConstitucion");
const constitucionBtn = document.getElementById("constitucionBtn");
const cerrarConstitucion = modalConstitucion.querySelector(".cerrar");

constitucionBtn.onclick = () => {
  modalConstitucion.style.display = "flex";
  contenido.classList.add("blurred");
  setTimeout(() => modalConstitucion.querySelector(".modal-content").classList.add("show"), 10);
};

cerrarConstitucion.onclick = () => {
  modalConstitucion.querySelector(".modal-content").classList.remove("show");
  setTimeout(() => {
    modalConstitucion.style.display = "none";
    contenido.classList.remove("blurred");
  }, 300);
};

/* ----- Modal JSPI Navegadores ----- */
const modalNavegadores = document.getElementById("modalNavegadores");
const jspiBtn = document.getElementById("jspiBtn");
const cerrarNavegadores = modalNavegadores.querySelector(".cerrar");
const modalCopiar = document.getElementById("modalCopiar");
const cerrarCopiar = modalCopiar.querySelector(".cerrar");
const flagTexto = document.getElementById("flagTexto");
const copiarBtn = document.getElementById("copiarBtn");

jspiBtn.onclick = () => {
  modalNavegadores.style.display = "flex";
  contenido.classList.add("blurred");
  setTimeout(() => modalNavegadores.querySelector(".modal-content").classList.add("show"), 10);
};

cerrarNavegadores.onclick = () => {
  modalNavegadores.querySelector(".modal-content").classList.remove("show");
  setTimeout(() => {
    modalNavegadores.style.display = "none";
    contenido.classList.remove("blurred");
  }, 300);
};

document.querySelectorAll(".navegador-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    const url = btn.getAttribute("data-url");
    flagTexto.textContent = url;
    modalCopiar.style.display = "flex";
    setTimeout(() => modalCopiar.querySelector(".modal-content").classList.add("show"), 10);
  });
});

cerrarCopiar.onclick = () => {
  modalCopiar.querySelector(".modal-content").classList.remove("show");
  setTimeout(() => {
    modalCopiar.style.display = "none";
    contenido.classList.remove("blurred");
  }, 300);
};

copiarBtn.onclick = () => {
  navigator.clipboard.writeText(flagTexto.textContent).then(() => {
    copiarBtn.textContent = "¡Copiado!";
    setTimeout(() => copiarBtn.textContent = "Copiar al portapapeles", 2000);
  });
};
</script>
</body>
</html>
